package debug;

import java.util.HashSet;
import java.util.Set;

public class test753 {

    public static void main(String[] args) {
        //n4 k10
        String s = "0000999989997999699959994999399929991999099889987998699859984998399829981998099789977997699759974997399729971997099689967996699659964996399629961996099589957995699559954995399529951995099489947994699459944994399429941994099389937993699359934993399329931993099289927992699259924992399229921992099189917991699159914991399129911991099089907990699059904990399029901990098989798969895989498939892989198909888988798869885988498839882988198809878987798769875987498739872987198709868986798669865986498639862986198609858985798569855985498539852985198509848984798469845984498439842984198409838983798369835983498339832983198309828982798269825982498239822982198209818981798169815981498139812981198109808980798069805980498039802980198009797969795979497939792979197909788978797869785978497839782978197809778977797769775977497739772977197709768976797669765976497639762976197609758975797569755975497539752975197509748974797469745974497439742974197409738973797369735973497339732973197309728972797269725972497239722972197209718971797169715971497139712971197109708970797069705970497039702970197009696959694969396929691969096889687968696859684968396829681968096789677967696759674967396729671967096689667966696659664966396629661966096589657965696559654965396529651965096489647964696459644964396429641964096389637963696359634963396329631963096289627962696259624962396229621962096189617961696159614961396129611961096089607960696059604960396029601960095959495939592959195909588958795869585958495839582958195809578957795769575957495739572957195709568956795669565956495639562956195609558955795569555955495539552955195509548954795469545954495439542954195409538953795369535953495339532953195309528952795269525952495239522952195209518951795169515951495139512951195109508950795069505950495039502950195009494939492949194909488948794869485948494839482948194809478947794769475947494739472947194709468946794669465946494639462946194609458945794569455945494539452945194509448944794469445944494439442944194409438943794369435943494339432943194309428942794269425942494239422942194209418941794169415941494139412941194109408940794069405940494039402940194009393929391939093889387938693859384938393829381938093789377937693759374937393729371937093689367936693659364936393629361936093589357935693559354935393529351935093489347934693459344934393429341934093389337933693359334933393329331933093289327932693259324932393229321932093189317931693159314931393129311931093089307930693059304930393029301930092929192909288928792869285928492839282928192809278927792769275927492739272927192709268926792669265926492639262926192609258925792569255925492539252925192509248924792469245924492439242924192409238923792369235923492339232923192309228922792269225922492239222922192209218921792169215921492139212921192109208920792069205920492039202920192009191909188918791869185918491839182918191809178917791769175917491739172917191709168916791669165916491639162916191609158915791569155915491539152915191509148914791469145914491439142914191409138913791369135913491339132913191309128912791269125912491239122912191209118911791169115911491139112911191109108910791069105910491039102910191009090889087908690859084908390829081908090789077907690759074907390729071907090689067906690659064906390629061906090589057905690559054905390529051905090489047904690459044904390429041904090389037903690359034903390329031903090289027902690259024902390229021902090189017901690159014901390129011901090089007900690059004900390029001900088887888688858884888388828881888088778876887588748873887288718870886788668865886488638862886188608857885688558854885388528851885088478846884588448843884288418840883788368835883488338832883188308827882688258824882388228821882088178816881588148813881288118810880788068805880488038802880188008787868785878487838782878187808777877687758774877387728771877087678766876587648763876287618760875787568755875487538752875187508747874687458744874387428741874087378736873587348733873287318730872787268725872487238722872187208717871687158714871387128711871087078706870587048703870287018700868685868486838682868186808677867686758674867386728671867086678666866586648663866286618660865786568655865486538652865186508647864686458644864386428641864086378636863586348633863286318630862786268625862486238622862186208617861686158614861386128611861086078606860586048603860286018600858584858385828581858085778576857585748573857285718570856785668565856485638562856185608557855685558554855385528551855085478546854585448543854285418540853785368535853485338532853185308527852685258524852385228521852085178516851585148513851285118510850785068505850485038502850185008484838482848184808477847684758474847384728471847084678466846584648463846284618460845784568455845484538452845184508447844684458444844384428441844084378436843584348433843284318430842784268425842484238422842184208417841684158414841384128411841084078406840584048403840284018400838382838183808377837683758374837383728371837083678366836583648363836283618360835783568355835483538352835183508347834683458344834383428341834083378336833583348333833283318330832783268325832483238322832183208317831683158314831383128311831083078306830583048303830283018300828281828082778276827582748273827282718270826782668265826482638262826182608257825682558254825382528251825082478246824582448243824282418240823782368235823482338232823182308227822682258224822382228221822082178216821582148213821282118210820782068205820482038202820182008181808177817681758174817381728171817081678166816581648163816281618160815781568155815481538152815181508147814681458144814381428141814081378136813581348133813281318130812781268125812481238122812181208117811681158114811381128111811081078106810581048103810281018100808077807680758074807380728071807080678066806580648063806280618060805780568055805480538052805180508047804680458044804380428041804080378036803580348033803280318030802780268025802480238022802180208017801680158014801380128011801080078006800580048003800280018000777767775777477737772777177707766776577647763776277617760775677557754775377527751775077467745774477437742774177407736773577347733773277317730772677257724772377227721772077167715771477137712771177107706770577047703770277017700767675767476737672767176707666766576647663766276617660765676557654765376527651765076467645764476437642764176407636763576347633763276317630762676257624762376227621762076167615761476137612761176107606760576047603760276017600757574757375727571757075667565756475637562756175607556755575547553755275517550754675457544754375427541754075367535753475337532753175307526752575247523752275217520751675157514751375127511751075067505750475037502750175007474737472747174707466746574647463746274617460745674557454745374527451745074467445744474437442744174407436743574347433743274317430742674257424742374227421742074167415741474137412741174107406740574047403740274017400737372737173707366736573647363736273617360735673557354735373527351735073467345734473437342734173407336733573347333733273317330732673257324732373227321732073167315731473137312731173107306730573047303730273017300727271727072667265726472637262726172607256725572547253725272517250724672457244724372427241724072367235723472337232723172307226722572247223722272217220721672157214721372127211721072067205720472037202720172007171707166716571647163716271617160715671557154715371527151715071467145714471437142714171407136713571347133713271317130712671257124712371227121712071167115711471137112711171107106710571047103710271017100707066706570647063706270617060705670557054705370527051705070467045704470437042704170407036703570347033703270317030702670257024702370227021702070167015701470137012701170107006700570047003700270017000666656664666366626661666066556654665366526651665066456644664366426641664066356634663366326631663066256624662366226621662066156614661366126611661066056604660366026601660065656465636562656165606555655465536552655165506545654465436542654165406535653465336532653165306525652465236522652165206515651465136512651165106505650465036502650165006464636462646164606455645464536452645164506445644464436442644164406435643464336432643164306425642464236422642164206415641464136412641164106405640464036402640164006363626361636063556354635363526351635063456344634363426341634063356334633363326331633063256324632363226321632063156314631363126311631063056304630363026301630062626162606255625462536252625162506245624462436242624162406235623462336232623162306225622462236222622162206215621462136212621162106205620462036202620162006161606155615461536152615161506145614461436142614161406135613461336132613161306125612461236122612161206115611461136112611161106105610461036102610161006060556054605360526051605060456044604360426041604060356034603360326031603060256024602360226021602060156014601360126011601060056004600360026001600055554555355525551555055445543554255415540553455335532553155305524552355225521552055145513551255115510550455035502550155005454535452545154505444544354425441544054345433543254315430542454235422542154205414541354125411541054045403540254015400535352535153505344534353425341534053345333533253315330532453235322532153205314531353125311531053045303530253015300525251525052445243524252415240523452335232523152305224522352225221522052145213521252115210520452035202520152005151505144514351425141514051345133513251315130512451235122512151205114511351125111511051045103510251015100505044504350425041504050345033503250315030502450235022502150205014501350125011501050045003500250015000444434442444144404433443244314430442344224421442044134412441144104403440244014400434342434143404333433243314330432343224321432043134312431143104303430243014300424241424042334232423142304223422242214220421342124211421042034202420142004141404133413241314130412341224121412041134112411141104103410241014100404033403240314030402340224021402040134012401140104003400240014000333323331333033223321332033123311331033023301330032323132303222322132203212321132103202320132003131303122312131203112311131103102310131003030223021302030123011301030023001300022221222022112210220122002121202111211021012100202011201020012000111101100101000";
        //n3 k10
        String s1 = "000999899799699599499399299199098898798698598498398298198097897797697597497397297197096896796696596496396296196095895795695595495395295195094894794694594494394294194093893793693593493393293193092892792692592492392292192091891791691591491391291191090890790690590490390290190088878868858848838828818808778768758748738728718708678668658648638628618608578568558548538528518508478468458448438428418408378368358348338328318308278268258248238228218208178168158148138128118108078068058048038028018007776775774773772771770766765764763762761760756755754753752751750746745744743742741740736735734733732731730726725724723722721720716715714713712711710706705704703702701700666566466366266166065565465365265165064564464364264164063563463363263163062562462362262162061561461361261161060560460360260160055545535525515505445435425415405345335325315305245235225215205145135125115105045035025015004443442441440433432431430423422421420413412411410403402401400333233133032232132031231131030230130022212202112102012001110100";
        //n4   k7
        String s3 ="0000666656664666366626661666066556654665366526651665066456644664366426641664066356634663366326631663066256624662366226621662066156614661366126611661066056604660366026601660065656465636562656165606555655465536552655165506545654465436542654165406535653465336532653165306525652465236522652165206515651465136512651165106505650465036502650165006464636462646164606455645464536452645164506445644464436442644164406435643464336432643164306425642464236422642164206415641464136412641164106405640464036402640164006363626361636063556354635363526351635063456344634363426341634063356334633363326331633063256324632363226321632063156314631363126311631063056304630363026301630062626162606255625462536252625162506245624462436242624162406235623462336232623162306225622462236222622162206215621462136212621162106205620462036202620162006161606155615461536152615161506145614461436142614161406135613461336132613161306125612461236122612161206115611461136112611161106105610461036102610161006060556054605360526051605060456044604360426041604060356034603360326031603060256024602360226021602060156014601360126011601060056004600360026001600055554555355525551555055445543554255415540553455335532553155305524552355225521552055145513551255115510550455035502550155005454535452545154505444544354425441544054345433543254315430542454235422542154205414541354125411541054045403540254015400535352535153505344534353425341534053345333533253315330532453235322532153205314531353125311531053045303530253015300525251525052445243524252415240523452335232523152305224522352225221522052145213521252115210520452035202520152005151505144514351425141514051345133513251315130512451235122512151205114511351125111511051045103510251015100505044504350425041504050345033503250315030502450235022502150205014501350125011501050045003500250015000444434442444144404433443244314430442344224421442044134412441144104403440244014400434342434143404333433243314330432343224321432043134312431143104303430243014300424241424042334232423142304223422242214220421342124211421042034202420142004141404133413241314130412341224121412041134112411141104103410241014100404033403240314030402340224021402040134012401140104003400240014000333323331333033223321332033123311331033023301330032323132303222322132203212321132103202320132003131303122312131203112311131103102310131003030223021302030123011301030023001300022221222022112210220122002121202111211021012100202011201020012000111101100101000";// "000055554555355525551555055445543554255415540553455335532553155305524552355225521552055145513551255115510550455035502550155005454535452545154505444544354425441544054345433543254315430542454235422542154205414541354125411541054045403540254015400535352535153505344534353425341534053345333533253315330532453235322532153205314531353125311531053045303530253015300525251525052445243524252415240523452335232523152305224522352225221522052145213521252115210520452035202520152005151505144514351425141514051345133513251315130512451235122512151205114511351125111511051045103510251015100505044504350425041504050345033503250315030502450235022502150205014501350125011501050045003500250015000444434442444144404433443244314430442344224421442044134412441144104403440244014400434342434143404333433243314330432343224321432043134312431143104303430243014300424241424042334232423142304223422242214220421342124211421042034202420142004141404133413241314130412341224121412041134112411141104103410241014100404033403240314030402340224021402040134012401140104003400240014000333323331333033223321332033123311331033023301330032323132303222322132203212321132103202320132003131303122312131203112311131103102310131003030223021302030123011301030023001300022221222022112210220122002121202111211021012100202011201020012000111101100101000";

        //n4k8
        String s4 = "0000777767775777477737772777177707766776577647763776277617760775677557754775377527751775077467745774477437742774177407736773577347733773277317730772677257724772377227721772077167715771477137712771177107706770577047703770277017700767675767476737672767176707666766576647663766276617660765676557654765376527651765076467645764476437642764176407636763576347633763276317630762676257624762376227621762076167615761476137612761176107606760576047603760276017600757574757375727571757075667565756475637562756175607556755575547553755275517550754675457544754375427541754075367535753475337532753175307526752575247523752275217520751675157514751375127511751075067505750475037502750175007474737472747174707466746574647463746274617460745674557454745374527451745074467445744474437442744174407436743574347433743274317430742674257424742374227421742074167415741474137412741174107406740574047403740274017400737372737173707366736573647363736273617360735673557354735373527351735073467345734473437342734173407336733573347333733273317330732673257324732373227321732073167315731473137312731173107306730573047303730273017300727271727072667265726472637262726172607256725572547253725272517250724672457244724372427241724072367235723472337232723172307226722572247223722272217220721672157214721372127211721072067205720472037202720172007171707166716571647163716271617160715671557154715371527151715071467145714471437142714171407136713571347133713271317130712671257124712371227121712071167115711471137112711171107106710571047103710271017100707066706570647063706270617060705670557054705370527051705070467045704470437042704170407036703570347033703270317030702670257024702370227021702070167015701470137012701170107006700570047003700270017000666656664666366626661666066556654665366526651665066456644664366426641664066356634663366326631663066256624662366226621662066156614661366126611661066056604660366026601660065656465636562656165606555655465536552655165506545654465436542654165406535653465336532653165306525652465236522652165206515651465136512651165106505650465036502650165006464636462646164606455645464536452645164506445644464436442644164406435643464336432643164306425642464236422642164206415641464136412641164106405640464036402640164006363626361636063556354635363526351635063456344634363426341634063356334633363326331633063256324632363226321632063156314631363126311631063056304630363026301630062626162606255625462536252625162506245624462436242624162406235623462336232623162306225622462236222622162206215621462136212621162106205620462036202620162006161606155615461536152615161506145614461436142614161406135613461336132613161306125612461236122612161206115611461136112611161106105610461036102610161006060556054605360526051605060456044604360426041604060356034603360326031603060256024602360226021602060156014601360126011601060056004600360026001600055554555355525551555055445543554255415540553455335532553155305524552355225521552055145513551255115510550455035502550155005454535452545154505444544354425441544054345433543254315430542454235422542154205414541354125411541054045403540254015400535352535153505344534353425341534053345333533253315330532453235322532153205314531353125311531053045303530253015300525251525052445243524252415240523452335232523152305224522352225221522052145213521252115210520452035202520152005151505144514351425141514051345133513251315130512451235122512151205114511351125111511051045103510251015100505044504350425041504050345033503250315030502450235022502150205014501350125011501050045003500250015000444434442444144404433443244314430442344224421442044134412441144104403440244014400434342434143404333433243314330432343224321432043134312431143104303430243014300424241424042334232423142304223422242214220421342124211421042034202420142004141404133413241314130412341224121412041134112411141104103410241014100404033403240314030402340224021402040134012401140104003400240014000333323331333033223321332033123311331033023301330032323132303222322132203212321132103202320132003131303122312131203112311131103102310131003030223021302030123011301030023001300022221222022112210220122002121202111211021012100202011201020012000111101100101000";

        test753 t = new test753();
        int n = 4;
        int k = 10;
        //t.chk(s4, 4, 8);
        System.out.println(t.chk(s4, 4, 8));
    }

    public boolean chk(String s, int n, int k){
        Set<String> set = new HashSet<>();
        //   3 4 [5 6 7] n = 3 last start is
        int count = 0;
        for(int i = 0; i <= s.length() - n; i++) {
            String cur = s.substring(i, i + n);
            count++;
            //System.out.println(cur);
            if(!set.add(cur)){
                return false;
            }
        }
        System.out.println(count + "   "+ s.length());
        return true;
    }




    public String crackSafe(int n, int k) {
        StringBuilder sb = new StringBuilder();
        for(int i = 0; i < n; i++) {
            sb.append(0);
        }
        int num = (int)Math.pow(k, n);
        String res = buildStr(sb, num, n, k);
        return res;
    }

    private String buildStr(StringBuilder sb, int num, int len,int k) {
        Set<Integer> set = new HashSet<>();
        set.add(Integer.valueOf(sb.toString()));
        int count = 1;
        while(count < num) {
            int cur = getOne(sb, count, set, k);
            sb.append(cur);
            count++;
        }
        return sb.toString();
    }

    private int getOne(StringBuilder prefix, int start, Set<Integer> set, int k) {
        int prev = 0;
        if(start != prefix.length()){
            prev = Integer.valueOf(prefix.substring(start, prefix.length()));
        }
        for(int i = k - 1; i >= 0; i--) {
            if(!set.contains(prev * 10 + i)) {
                set.add(prev * 10 + i);
                return i;
            }
        }
        //throw new Exception("Error!");
        return -1;// or Throw an exception
    }


}
